{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 10:00:29:029"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 10:00:30:030"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 10:00:30:030"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 10:00:30:030"}
{"level":"info","message":"üßπ Cleared 1 cache keys matching products:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:*","service":"billing-saas-api","timestamp":"2025-11-21 10:11:47:1147"}
{"level":"info","message":"üßπ Cleared 2 cache keys matching cache:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:/api/products*","service":"billing-saas-api","timestamp":"2025-11-21 10:11:47:1147"}
{"id":"2de3691d-b791-4a02-ae02-2491241be824","level":"info","message":"Product updated in 52ms","service":"billing-saas-api","tenantId":"221ccd12-e9b2-4f39-9cfe-81bdbed59edc","timestamp":"2025-11-21 10:11:47:1147"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 12:06:06:66"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 12:06:06:66"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 12:06:06:66"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 12:06:06:66"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 15:24:50:2450"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 15:24:50:2450"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 15:24:50:2450"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 15:24:50:2450"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 15:43:49:4349"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 15:43:50:4350"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 15:43:50:4350"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 15:43:50:4350"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 15:47:30:4730"}
{"code":"23502","column":"cessAmount","driverError":{"code":"23502","column":"cessAmount","file":"tablecmds.c","length":166,"line":"6284","name":"error","routine":"ATRewriteTable","schema":"public","severity":"ERROR","table":"invoice_items"},"file":"tablecmds.c","length":166,"level":"error","line":"6284","message":"‚ùå Database connection failed: column \"cessAmount\" of relation \"invoice_items\" contains null values","query":"ALTER TABLE \"invoice_items\" ADD \"cessAmount\" numeric(15,2) NOT NULL","routine":"ATRewriteTable","schema":"public","service":"billing-saas-api","severity":"ERROR","stack":"QueryFailedError: column \"cessAmount\" of relation \"invoice_items\" contains null values\n    at PostgresQueryRunner.query (E:\\BillingSoftware\\node_modules\\typeorm\\src\\driver\\postgres\\PostgresQueryRunner.ts:325:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryRunner.executeQueries (E:\\BillingSoftware\\node_modules\\src\\query-runner\\BaseQueryRunner.ts:681:13)\n    at async PostgresQueryRunner.addColumn (E:\\BillingSoftware\\node_modules\\typeorm\\src\\driver\\postgres\\PostgresQueryRunner.ts:1160:9)\n    at async PostgresQueryRunner.addColumns (E:\\BillingSoftware\\node_modules\\typeorm\\src\\driver\\postgres\\PostgresQueryRunner.ts:1174:13)\n    at async RdbmsSchemaBuilder.addNewColumns (E:\\BillingSoftware\\node_modules\\src\\schema-builder\\RdbmsSchemaBuilder.ts:845:13)\n    at async RdbmsSchemaBuilder.executeSchemaSyncOperationsInProperOrder (E:\\BillingSoftware\\node_modules\\src\\schema-builder\\RdbmsSchemaBuilder.ts:227:9)\n    at async RdbmsSchemaBuilder.build (E:\\BillingSoftware\\node_modules\\src\\schema-builder\\RdbmsSchemaBuilder.ts:95:13)\n    at async DataSource.synchronize (E:\\BillingSoftware\\node_modules\\src\\data-source\\DataSource.ts:340:9)\n    at async DataSource.initialize (E:\\BillingSoftware\\node_modules\\src\\data-source\\DataSource.ts:278:43)\n    at async initializeDatabase (E:\\BillingSoftware\\packages\\backend\\src\\config\\database.ts:118:7)\n    at async ApplicationServer.start (E:\\BillingSoftware\\packages\\backend\\src\\app.ts:113:7)","table":"invoice_items","timestamp":"2025-11-21 15:47:31:4731"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 15:49:22:4922"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 15:49:22:4922"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 15:49:22:4922"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 15:49:22:4922"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 15:52:48:5248"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 15:52:49:5249"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 15:52:49:5249"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 15:52:49:5249"}
{"level":"error","message":"Uncaught Exception ‚®Ø Unable to compile TypeScript:\n\u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m381\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'cess_amount' does not exist on type '{ discountAmount: number; taxAmount: number; lineTotal: number; taxableAmount: number; }'.\r\n\r\n\u001b[7m381\u001b[0m               cessAmount: itemTotals.cess_amount,\r\n\u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~\u001b[0m\r\n","service":"billing-saas-api","stack":"TSError: ‚®Ø Unable to compile TypeScript:\n\u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m381\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'cess_amount' does not exist on type '{ discountAmount: number; taxAmount: number; lineTotal: number; taxableAmount: number; }'.\r\n\r\n\u001b[7m381\u001b[0m               cessAmount: itemTotals.cess_amount,\r\n\u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-11-21 16:25:46:2546"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 16:25:47:2547"}
{"level":"error","message":"Uncaught Exception ‚®Ø Unable to compile TypeScript:\n\u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m385\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2551: \u001b[0mProperty 'cess_amount' does not exist on type '{ discountAmount: number; taxAmount: number; cessAmount: number; lineTotal: number; taxableAmount: number; }'. Did you mean 'cessAmount'?\r\n\r\n\u001b[7m385\u001b[0m               cessAmount: itemTotals.cess_amount,\r\n\u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m286\u001b[0m:\u001b[93m9\u001b[0m\r\n    \u001b[7m286\u001b[0m         cessAmount,\r\n    \u001b[7m   \u001b[0m \u001b[96m        ~~~~~~~~~~\u001b[0m\r\n    'cessAmount' is declared here.\r\n","service":"billing-saas-api","stack":"TSError: ‚®Ø Unable to compile TypeScript:\n\u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m385\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2551: \u001b[0mProperty 'cess_amount' does not exist on type '{ discountAmount: number; taxAmount: number; cessAmount: number; lineTotal: number; taxableAmount: number; }'. Did you mean 'cessAmount'?\r\n\r\n\u001b[7m385\u001b[0m               cessAmount: itemTotals.cess_amount,\r\n\u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m286\u001b[0m:\u001b[93m9\u001b[0m\r\n    \u001b[7m286\u001b[0m         cessAmount,\r\n    \u001b[7m   \u001b[0m \u001b[96m        ~~~~~~~~~~\u001b[0m\r\n    'cessAmount' is declared here.\r\n\n    at createTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-11-21 16:31:30:3130"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 16:31:30:3130"}
{"level":"error","message":"Uncaught Exception ‚®Ø Unable to compile TypeScript:\n\u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m385\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2551: \u001b[0mProperty 'cess_amount' does not exist on type '{ discountAmount: number; taxAmount: number; cessAmount: number; lineTotal: number; taxableAmount: number; }'. Did you mean 'cessAmount'?\r\n\r\n\u001b[7m385\u001b[0m               cessAmount: itemTotals.cess_amount,\r\n\u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m286\u001b[0m:\u001b[93m9\u001b[0m\r\n    \u001b[7m286\u001b[0m         cessAmount,\r\n    \u001b[7m   \u001b[0m \u001b[96m        ~~~~~~~~~~\u001b[0m\r\n    'cessAmount' is declared here.\r\n","service":"billing-saas-api","stack":"TSError: ‚®Ø Unable to compile TypeScript:\n\u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m385\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2551: \u001b[0mProperty 'cess_amount' does not exist on type '{ discountAmount: number; taxAmount: number; cessAmount: number; lineTotal: number; taxableAmount: number; }'. Did you mean 'cessAmount'?\r\n\r\n\u001b[7m385\u001b[0m               cessAmount: itemTotals.cess_amount,\r\n\u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96msrc/services/invoice/InvoiceService.ts\u001b[0m:\u001b[93m286\u001b[0m:\u001b[93m9\u001b[0m\r\n    \u001b[7m286\u001b[0m         cessAmount,\r\n    \u001b[7m   \u001b[0m \u001b[96m        ~~~~~~~~~~\u001b[0m\r\n    'cessAmount' is declared here.\r\n\n    at createTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-11-21 16:31:54:3154"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 16:31:55:3155"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 17:06:10:610"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 17:06:11:611"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 17:06:11:611"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 17:06:11:611"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 17:12:24:1224"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 17:12:25:1225"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 17:12:25:1225"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 17:12:25:1225"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 17:34:17:3417"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 17:34:18:3418"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 17:34:18:3418"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 17:34:18:3418"}
{"level":"info","message":"Processing loyalty for invoice: 3087cd40-ffd1-4748-9d8a-56e066cfaf7d, totalAmount: 3129.45, type: string","service":"billing-saas-api","timestamp":"2025-11-21 18:02:09:29"}
{"level":"info","message":"No cashback earned for invoice 3087cd40-ffd1-4748-9d8a-56e066cfaf7d - amount below threshold","service":"billing-saas-api","timestamp":"2025-11-21 18:02:09:29"}
{"invoiceId":"3087cd40-ffd1-4748-9d8a-56e066cfaf7d","level":"info","message":"Invoice created in 219ms","service":"billing-saas-api","tenantId":"221ccd12-e9b2-4f39-9cfe-81bdbed59edc","timestamp":"2025-11-21 18:02:09:29"}
{"level":"info","message":"Notification sent successfully for user 4eb22303-2c90-4123-a8c2-92a9027388ba","service":"billing-saas-api","timestamp":"2025-11-21 18:02:10:210"}
{"level":"info","message":"Processing loyalty for invoice: 3087cd40-ffd1-4748-9d8a-56e066cfaf7d, totalAmount: 3129.45, type: string","service":"billing-saas-api","timestamp":"2025-11-21 18:02:11:211"}
{"level":"info","message":"No cashback earned for invoice 3087cd40-ffd1-4748-9d8a-56e066cfaf7d - amount below threshold","service":"billing-saas-api","timestamp":"2025-11-21 18:02:11:211"}
{"level":"info","message":"Loyalty processing completed for invoice: 3087cd40-ffd1-4748-9d8a-56e066cfaf7d","service":"billing-saas-api","timestamp":"2025-11-21 18:02:11:211"}
{"level":"info","message":"üßπ Cleared 1 cache keys matching invoices:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:*","service":"billing-saas-api","timestamp":"2025-11-21 18:05:57:557"}
{"level":"info","message":"üßπ Cleared 1 cache keys matching cache:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:/api/invoices*","service":"billing-saas-api","timestamp":"2025-11-21 18:05:57:557"}
{"level":"info","message":"Processing loyalty for invoice: 3087cd40-ffd1-4748-9d8a-56e066cfaf7d, totalAmount: 3217.65, type: string","service":"billing-saas-api","timestamp":"2025-11-21 18:05:57:557"}
{"level":"info","message":"No cashback earned for invoice 3087cd40-ffd1-4748-9d8a-56e066cfaf7d - amount below threshold","service":"billing-saas-api","timestamp":"2025-11-21 18:05:57:557"}
{"id":"3087cd40-ffd1-4748-9d8a-56e066cfaf7d","level":"info","message":"Invoice updated in 192ms","service":"billing-saas-api","tenantId":"221ccd12-e9b2-4f39-9cfe-81bdbed59edc","timestamp":"2025-11-21 18:05:57:557"}
{"level":"info","message":"Processing loyalty for invoice: 3087cd40-ffd1-4748-9d8a-56e066cfaf7d, totalAmount: 3217.65, type: string","service":"billing-saas-api","timestamp":"2025-11-21 18:05:59:559"}
{"level":"info","message":"No cashback earned for invoice 3087cd40-ffd1-4748-9d8a-56e066cfaf7d - amount below threshold","service":"billing-saas-api","timestamp":"2025-11-21 18:05:59:559"}
{"level":"info","message":"Loyalty processing completed for invoice: 3087cd40-ffd1-4748-9d8a-56e066cfaf7d","service":"billing-saas-api","timestamp":"2025-11-21 18:05:59:559"}
{"level":"info","message":"‚úÖ Redis connected","service":"billing-saas-api","timestamp":"2025-11-21 18:12:49:1249"}
{"level":"info","message":"‚úÖ Database connection established","service":"billing-saas-api","timestamp":"2025-11-21 18:12:51:1251"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-21 18:12:51:1251"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-21 18:12:51:1251"}
