{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 10:20:52:2052"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 10:20:53:2053"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 10:20:53:2053"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 10:20:53:2053"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 11:16:57:1657"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 11:16:58:1658"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 11:16:58:1658"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 11:16:58:1658"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 11:22:49:2249"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 11:22:50:2250"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 11:22:50:2250"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 11:22:50:2250"}
{"level":"error","message":"Uncaught Exception â¨¯ Unable to compile TypeScript:\n\u001b[96msrc/controllers/InvoiceController.ts\u001b[0m:\u001b[93m139\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'loyaltyService' does not exist on type 'InvoiceController'.\r\n\r\n\u001b[7m139\u001b[0m          await this.loyaltyService.processInvoiceForLoyalty(invoice.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~\u001b[0m\r\n","service":"billing-saas-api","stack":"TSError: â¨¯ Unable to compile TypeScript:\n\u001b[96msrc/controllers/InvoiceController.ts\u001b[0m:\u001b[93m139\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'loyaltyService' does not exist on type 'InvoiceController'.\r\n\r\n\u001b[7m139\u001b[0m          await this.loyaltyService.processInvoiceForLoyalty(invoice.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-11-18 11:57:29:5729"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 11:57:29:5729"}
{"level":"error","message":"Uncaught Exception â¨¯ Unable to compile TypeScript:\n\u001b[96msrc/routes/invoiceRoutes.ts\u001b[0m:\u001b[93m21\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 5 arguments, but got 4.\r\n\r\n\u001b[7m 21\u001b[0m const invoiceController = new InvoiceController(\r\n\u001b[7m   \u001b[0m \u001b[91m                          ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[7m 22\u001b[0m   invoiceService,\r\n\u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[7m...\u001b[0m \r\n\u001b[7m 25\u001b[0m   queueService\r\n\u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[7m 26\u001b[0m );\r\n\u001b[7m   \u001b[0m \u001b[91m~\u001b[0m\r\n\r\n  \u001b[96msrc/controllers/InvoiceController.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m\r\n    \u001b[7m22\u001b[0m     private loyaltyService: LoyaltyService\r\n    \u001b[7m  \u001b[0m \u001b[96m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    An argument for 'loyaltyService' was not provided.\r\n","service":"billing-saas-api","stack":"TSError: â¨¯ Unable to compile TypeScript:\n\u001b[96msrc/routes/invoiceRoutes.ts\u001b[0m:\u001b[93m21\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 5 arguments, but got 4.\r\n\r\n\u001b[7m 21\u001b[0m const invoiceController = new InvoiceController(\r\n\u001b[7m   \u001b[0m \u001b[91m                          ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[7m 22\u001b[0m   invoiceService,\r\n\u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[7m...\u001b[0m \r\n\u001b[7m 25\u001b[0m   queueService\r\n\u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[7m 26\u001b[0m );\r\n\u001b[7m   \u001b[0m \u001b[91m~\u001b[0m\r\n\r\n  \u001b[96msrc/controllers/InvoiceController.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m\r\n    \u001b[7m22\u001b[0m     private loyaltyService: LoyaltyService\r\n    \u001b[7m  \u001b[0m \u001b[96m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    An argument for 'loyaltyService' was not provided.\r\n\n    at createTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (E:\\BillingSoftware\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-11-18 11:57:56:5756"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 11:57:56:5756"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 12:01:21:121"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 12:01:21:121"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 12:01:21:121"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 12:01:21:121"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 12:09:14:914"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 12:09:14:914"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 12:09:14:914"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 12:09:14:914"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 12:25:57:2557"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 12:25:58:2558"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 12:25:58:2558"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 12:25:58:2558"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 12:27:21:2721"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 12:27:22:2722"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 12:27:22:2722"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 12:27:22:2722"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 12:28:36:2836"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 12:28:37:2837"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 12:28:37:2837"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 12:28:37:2837"}
{"level":"info","message":"Auto-created category: Products / Services for tenant: 221ccd12-e9b2-4f39-9cfe-81bdbed59edc","service":"billing-saas-api","timestamp":"2025-11-18 12:42:26:4226"}
{"level":"info","message":"ðŸ§¹ Cleared 1 cache keys matching cache:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:/api/products*","service":"billing-saas-api","timestamp":"2025-11-18 12:42:26:4226"}
{"level":"info","message":"Product created in 73ms","productId":"2de3691d-b791-4a02-ae02-2491241be824","service":"billing-saas-api","tenantId":"221ccd12-e9b2-4f39-9cfe-81bdbed59edc","timestamp":"2025-11-18 12:42:26:4226"}
{"level":"info","message":"ðŸ§¹ Cleared 1 cache keys matching cache:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:/api/invoices*","service":"billing-saas-api","timestamp":"2025-11-18 12:45:09:459"}
{"level":"info","message":"Processing loyalty for invoice: 566fc823-a2a3-428f-8ecd-683f6f237ef6, totalAmount: 15718.50, type: string","service":"billing-saas-api","timestamp":"2025-11-18 12:45:09:459"}
{"level":"info","message":"Cashback calculation: amount=15718.5, percentage=5.00, cashback=500","service":"billing-saas-api","timestamp":"2025-11-18 12:45:09:459"}
{"level":"info","message":"Customer loyalty update - totalSpent: 15718.5, availableCashback: 500, totalCashbackEarned: 500","service":"billing-saas-api","timestamp":"2025-11-18 12:45:09:459"}
{"level":"info","message":"Processed cashback of â‚¹500 for customer 047f643f-6c30-463c-b2dd-3bf35ac8066d","service":"billing-saas-api","timestamp":"2025-11-18 12:45:09:459"}
{"invoiceId":"566fc823-a2a3-428f-8ecd-683f6f237ef6","level":"info","message":"Invoice created in 216ms","service":"billing-saas-api","tenantId":"221ccd12-e9b2-4f39-9cfe-81bdbed59edc","timestamp":"2025-11-18 12:45:09:459"}
{"level":"info","message":"Notification sent successfully for user 4eb22303-2c90-4123-a8c2-92a9027388ba","service":"billing-saas-api","timestamp":"2025-11-18 12:45:10:4510"}
{"level":"info","message":"Loyalty processing completed for invoice: 566fc823-a2a3-428f-8ecd-683f6f237ef6","service":"billing-saas-api","timestamp":"2025-11-18 12:45:11:4511"}
{"level":"info","message":"ðŸ§¹ Cleared 1 cache keys matching invoices:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:*","service":"billing-saas-api","timestamp":"2025-11-18 13:22:33:2233"}
{"level":"info","message":"ðŸ§¹ Cleared 1 cache keys matching cache:221ccd12-e9b2-4f39-9cfe-81bdbed59edc:/api/invoices*","service":"billing-saas-api","timestamp":"2025-11-18 13:22:33:2233"}
{"level":"info","message":"Processing loyalty for invoice: 5277396a-ba8b-457b-93f1-dd10f0f43b5a, totalAmount: 11025.00, type: string","service":"billing-saas-api","timestamp":"2025-11-18 13:22:33:2233"}
{"level":"info","message":"Cashback calculation: amount=11025, percentage=5.00, cashback=500","service":"billing-saas-api","timestamp":"2025-11-18 13:22:33:2233"}
{"level":"info","message":"Customer loyalty update - totalSpent: 26743.5, availableCashback: 1000, totalCashbackEarned: 1000","service":"billing-saas-api","timestamp":"2025-11-18 13:22:33:2233"}
{"level":"info","message":"Processed cashback of â‚¹500 for customer 047f643f-6c30-463c-b2dd-3bf35ac8066d","service":"billing-saas-api","timestamp":"2025-11-18 13:22:33:2233"}
{"invoiceId":"5277396a-ba8b-457b-93f1-dd10f0f43b5a","level":"info","message":"Invoice created in 292ms","service":"billing-saas-api","tenantId":"221ccd12-e9b2-4f39-9cfe-81bdbed59edc","timestamp":"2025-11-18 13:22:33:2233"}
{"level":"info","message":"Notification sent successfully for user 4eb22303-2c90-4123-a8c2-92a9027388ba","service":"billing-saas-api","timestamp":"2025-11-18 13:22:34:2234"}
{"level":"info","message":"Loyalty processing completed for invoice: 5277396a-ba8b-457b-93f1-dd10f0f43b5a","service":"billing-saas-api","timestamp":"2025-11-18 13:22:35:2235"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 13:24:46:2446"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 13:24:46:2446"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 13:24:46:2446"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 13:24:46:2446"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 14:49:46:4946"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 14:49:47:4947"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 14:49:47:4947"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 14:49:47:4947"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 15:25:32:2532"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 15:25:33:2533"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 15:25:33:2533"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 15:25:33:2533"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 16:05:03:53"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 16:05:04:54"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 16:05:04:54"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 16:05:04:54"}
{"level":"info","message":"âœ… Redis connected","service":"billing-saas-api","timestamp":"2025-11-18 17:26:42:2642"}
{"level":"info","message":"âœ… Database connection established","service":"billing-saas-api","timestamp":"2025-11-18 17:26:43:2643"}
{"level":"info","message":"Database connected successfully","service":"billing-saas-api","timestamp":"2025-11-18 17:26:43:2643"}
{"level":"info","message":"Server running on port 3001 in development mode","service":"billing-saas-api","timestamp":"2025-11-18 17:26:43:2643"}
{"code":"ECONNRESET","errno":-4077,"level":"error","message":"Redis connection error: read ECONNRESET","service":"billing-saas-api","stack":"Error: read ECONNRESET\n    at TCP.onStreamRead (node:internal/stream_base_commons:216:20)","syscall":"read","timestamp":"2025-11-18 18:29:59:2959"}
